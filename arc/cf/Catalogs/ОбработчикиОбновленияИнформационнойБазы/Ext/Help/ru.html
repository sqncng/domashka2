<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta http-equiv="content-type" content="text/html;charset=utf-8"></meta><link href="v8help://service_book/service_style" type="text/css" rel="stylesheet"></link><meta content="MSHTML 6.00.2900.3492" name="GENERATOR"></meta></head><body>
<h1 class="">Обработчики обновления информационной базы</h1>
<p style="margin-left: 0px">Содержит информацию об обработчиках, выполняемых при переходе на новые версии разрабатываемой конфигурации. Информация об обработчиках может загружаться из конфигуратора при помощи обработки <a href="DataProcessor.ЗагрузкаМетаданных/Help">Загрузка метаданных</a>. Функционал актуален для конфигураций, разрабатываемых на основе <b>Библиотеки стандартных подсистем</b>.</p>
<p style="margin-left: 0px">Обработчики могут также создаваться в справочнике вручную на этапе помещения их в хранилище конфигурации.</p>
<p style="margin-left: 0px">Список обработчиков ведется в разрезе версий разрабатываемой конфигурации. Для каждой версии хранится полный список обработчиков. Т.о. если при выпуске следующей версии, обработчики перехода на предыдущую версию не удаляются, то в новую версию будут загружены как обработчики обновления для перехода на эту версию, так и обработчики перехода на предыдущие версии.</p>
<p style="margin-left: 0px">Для обработчиков обновления можно заполнить информацию о читаемых и изменяемых данных. По этой информации вычисляются пересечения по данным между обработчиками. Информация о наличии пересечений отображается в карточке обработчика, при этом можно перейти к расшифровке, с какими обработчиками и по каким данным есть пересечения.</p>
<p style="margin-left: 0px">Для отложенных обработчиков можно указать, работа с какими объектами будет заблокирована, пока этот обработчик еще не выполнился. Эта информация используется при генерации кода процедуры <b>ПриДобавленииОбработчиковОбновления</b> и попадает в свойство "Блокируемые объекты". Более подробную информацию о блокировке объектов можно получить из документации <b>Библиотеки стандартных подсистем</b>. Если блокируются только изменяемые данные, то в качестве процедуры проверки блокировки рекомендуется использовать типовую процедуру проверки. В справочнике есть сервис по заполнению этой процедуры в свойствах обработчика.</p>
<p style="margin-left: 0px">Для отложенных обработчиков, включенных в подсистемы разрабатываемого проекта и библиотеки стандартных подсистем, поддерживающих режим параллельного обновления обработчиков, предоставляется возможность построения очереди выполнения отложенных обработчиков.<br>Также для отложенных обработчиков обновления из библиотек стандартных подсистем, поддерживающих режим параллельного обновления обработчиков, можно выполнить генерацию кода процедуры <b>ПриФормированииОчередейОтложенныхОбработчиков</b>.<br>Все сгенерированные модули могут быть автоматически залиты в хранилище версии.</p>
<p style="margin-left: 0px">Отложенный обработчик можно сделать многопоточным т.е. выполняемым сразу несколькими фоновыми заданиями. Для этого, нужно установить у обработчика флаг <b>Многопоточный</b> и реализовать его так, чтобы он брал обновляемые данные из параметров процедуры обработчика, а не выбирал их сам.</p>
<p> </p></body></html>