
&НаСервере
Функция ХешУточнения(СсылкаНаОшибку)
	Запрос = Новый Запрос;
	Запрос.Текст = 
		"ВЫБРАТЬ
		|	ОшибкиСписокОбъектов.Ссылка КАК Ссылка,
		|	ОшибкиСписокОбъектов.ХешУточнения КАК ХешУточнения
		|ИЗ
		|	Справочник.Ошибки.СписокОбъектов КАК ОшибкиСписокОбъектов
		|ГДЕ
		|	ОшибкиСписокОбъектов.Ссылка = &Ссылка";
	
	Запрос.УстановитьПараметр("Ссылка", СсылкаНаОшибку);
	
	РезультатЗапроса = Запрос.Выполнить();
	
	ВыборкаДетальныеЗаписи = РезультатЗапроса.Выбрать();
	
	Пока ВыборкаДетальныеЗаписи.Следующий() Цикл
		Возврат ВыборкаДетальныеЗаписи.ХешУточнения;
	КонецЦикла;
	
	Возврат Неопределено;
	
КонецФункции	 

&НаКлиенте
Процедура ОбработкаКоманды(ПараметрКоманды, ПараметрыВыполненияКоманды)
		
	ДанныеОтбор = Новый Структура;
	ДанныеОтбор.Вставить("ХешУточнения",ХешУточнения(ПараметрКоманды));
	
	ПараметрыФормы = Новый Структура("Отбор, СформироватьПриОткрытии, ВидимостьКомандВариантовОтчетов", 
		ДанныеОтбор, 
		Истина,
		Истина);
		
	ОткрытьФорму(
		"Отчет.ОшибкиСОдинаковымиПроблемнымиОбъектами.Форма",
		ПараметрыФормы, ,
		Истина,
		ПараметрыВыполненияКоманды.Окно);

КонецПроцедуры
